(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{26:(e,s,t)=>{Promise.resolve().then(t.bind(t,699))},699:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var l=t(5155),a=t(2115);let r=(0,t(1958).UU)("https://cjzfnzxdoogmtvqngmxa.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNqemZuenhkb29nbXR2cW5nbXhhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY0ODQyMTgsImV4cCI6MjA4MjA2MDIxOH0.vVdOUWQYfEe6AV-91X4mA3hTvsByfbzlQ1FBCvhhLsQ");function i(){var e;let[s,t]=(0,a.useState)("catches"),[i,n]=(0,a.useState)([]),[d,c]=(0,a.useState)(""),[x,o]=(0,a.useState)(""),[m,h]=(0,a.useState)(""),[b,u]=(0,a.useState)(""),[g,p]=(0,a.useState)(""),[j,f]=(0,a.useState)(null),[N,y]=(0,a.useState)(!0);async function v(){try{let e=await fetch("https://api.open-meteo.com/v1/forecast?latitude=41.0082&longitude=28.9784&current=temperature_2m,relative_humidity_2m,apparent_temperature,precipitation,rain,weather_code,wind_speed_10m,wind_direction_10m&hourly=temperature_2m,precipitation_probability,weather_code&daily=weather_code,temperature_2m_max,temperature_2m_min,precipitation_sum,wind_speed_10m_max&timezone=Europe%2FIstanbul&forecast_days=3"),s=await e.json();f(s),y(!1)}catch(e){console.error("Hava durumu hatası:",e),y(!1)}}async function w(){let{data:e,error:s}=await r.from("catches").select("*").order("created_at",{ascending:!1});s&&console.error("Fetch error:",s),e&&n(e)}async function k(e){e.preventDefault();let{error:s}=await r.from("catches").insert([{species:d,length_cm:parseInt(x),weight_gr:m?parseInt(m):null,location:b,notes:g||null}]);s?(console.error("Insert error:",s),alert("Hata: "+s.message)):(c(""),o(""),h(""),u(""),p(""),w())}function _(e){return 0===e?"☀️":e<=3?"⛅":e<=48?"\uD83C\uDF2B️":e<=67?"\uD83C\uDF27️":e<=77?"\uD83C\uDF28️":e<=82?"\uD83C\uDF27️":e<=86?"\uD83C\uDF28️":e<=99?"⛈️":"\uD83C\uDF24️"}return(0,a.useEffect)(()=>{w(),v()},[]),(0,l.jsxs)("main",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-cyan-50 pb-24",children:[(0,l.jsx)("div",{className:"sticky top-0 z-40 bg-white/95 backdrop-blur-lg border-b border-gray-200 shadow-sm",children:(0,l.jsx)("div",{className:"px-4 py-4",children:(0,l.jsxs)("h1",{className:"text-2xl font-bold text-gray-800 text-center",children:["catches"===s&&"\uD83C\uDFA3 Avlarım","stats"===s&&"\uD83D\uDCCA İstatistikler","profile"===s&&"\uD83D\uDC64 Profil"]})})}),(0,l.jsxs)("div",{className:"max-w-4xl mx-auto px-4 pb-6 pt-4",children:["catches"===s&&(0,l.jsxs)(l.Fragment,{children:[!N&&j&&(0,l.jsx)("div",{className:"mb-4 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl shadow-lg overflow-hidden",children:(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-white font-bold text-lg mb-1",children:"İstanbul - Marmara"}),(0,l.jsx)("p",{className:"text-blue-100 text-sm",children:"Şu anki hava durumu"})]}),(0,l.jsx)("div",{className:"text-5xl",children:_(j.current.weather_code)})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[(0,l.jsxs)("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-3",children:[(0,l.jsx)("div",{className:"text-blue-100 text-xs font-semibold mb-1",children:"Sıcaklık"}),(0,l.jsxs)("div",{className:"text-white text-2xl font-bold",children:[Math.round(j.current.temperature_2m),"\xb0C"]}),(0,l.jsxs)("div",{className:"text-blue-100 text-xs mt-1",children:["Hissedilen: ",Math.round(j.current.apparent_temperature),"\xb0C"]})]}),(0,l.jsxs)("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-3",children:[(0,l.jsx)("div",{className:"text-blue-100 text-xs font-semibold mb-1",children:"R\xfczgar"}),(0,l.jsxs)("div",{className:"text-white text-2xl font-bold",children:[Math.round(j.current.wind_speed_10m)," km/s"]}),(0,l.jsxs)("div",{className:"text-blue-100 text-xs mt-1",children:["Y\xf6n: ",["K","KD","D","GD","G","GB","B","KB"][Math.round(j.current.wind_direction_10m/45)%8]]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,l.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-2 text-center",children:[(0,l.jsx)("div",{className:"text-blue-100 text-xs mb-1",children:"Nem"}),(0,l.jsxs)("div",{className:"text-white font-bold",children:[Math.round(j.current.relative_humidity_2m),"%"]})]}),(0,l.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-2 text-center",children:[(0,l.jsx)("div",{className:"text-blue-100 text-xs mb-1",children:"Yağış"}),(0,l.jsxs)("div",{className:"text-white font-bold",children:[j.current.precipitation," mm"]})]}),(0,l.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-2 text-center",children:[(0,l.jsx)("div",{className:"text-blue-100 text-xs mb-1",children:"Durum"}),(0,l.jsx)("div",{className:"text-white font-bold text-xs",children:0===(e=j.current.weather_code)?"A\xe7ık":e<=3?"Par\xe7alı Bulutlu":e<=48?"Sisli":e<=67?"Yağmurlu":e<=77?"Karlı":e<=82?"Sağanak":e<=86?"Kar Yağışı":e<=99?"Fırtınalı":"Değişken"})]})]}),(0,l.jsxs)("div",{className:"mt-3 pt-3 border-t border-white/20",children:[(0,l.jsx)("div",{className:"text-blue-100 text-xs font-semibold mb-2",children:"3 G\xfcnl\xfck Tahmin"}),(0,l.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[0,1,2].map(e=>(0,l.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-2 text-center",children:[(0,l.jsx)("div",{className:"text-blue-100 text-xs mb-1",children:0===e?"Bug\xfcn":1===e?"Yarın":"2 G\xfcn"}),(0,l.jsx)("div",{className:"text-2xl mb-1",children:_(j.daily.weather_code[e])}),(0,l.jsxs)("div",{className:"text-white font-bold text-sm",children:[Math.round(j.daily.temperature_2m_max[e]),"\xb0 / ",Math.round(j.daily.temperature_2m_min[e]),"\xb0"]}),(0,l.jsxs)("div",{className:"text-blue-100 text-xs mt-1",children:["\uD83D\uDCA8 ",Math.round(j.daily.wind_speed_10m_max[e])," km/s"]})]},e))})]})]})}),(0,l.jsxs)("form",{onSubmit:k,className:"mb-6 bg-white rounded-2xl shadow-lg overflow-hidden",children:[(0,l.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-500 px-6 py-4",children:(0,l.jsx)("h2",{className:"text-xl font-bold text-white",children:"\uD83D\uDCDD Yeni Av Ekle"})}),(0,l.jsxs)("div",{className:"p-4 space-y-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-xs font-semibold text-gray-600 mb-1.5",children:"\uD83D\uDC1F Balık T\xfcr\xfc *"}),(0,l.jsx)("input",{type:"text",placeholder:"Levrek, \xc7upra, L\xfcfer...",value:d,onChange:e=>c(e.target.value),className:"w-full px-4 py-4 bg-gray-50 border-2 border-gray-200 rounded-xl focus:bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-100 focus:outline-none text-gray-800 text-lg transition-all",required:!0})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-xs font-semibold text-gray-600 mb-1.5",children:"\uD83D\uDCCF Boy (cm) *"}),(0,l.jsx)("input",{type:"number",inputMode:"numeric",placeholder:"45",value:x,onChange:e=>o(e.target.value),className:"w-full px-4 py-4 bg-gray-50 border-2 border-gray-200 rounded-xl focus:bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-100 focus:outline-none text-gray-800 text-lg transition-all",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-xs font-semibold text-gray-600 mb-1.5",children:"⚖️ Kilo (gr)"}),(0,l.jsx)("input",{type:"number",inputMode:"numeric",placeholder:"1200",value:m,onChange:e=>h(e.target.value),className:"w-full px-4 py-4 bg-gray-50 border-2 border-gray-200 rounded-xl focus:bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-100 focus:outline-none text-gray-800 text-lg transition-all"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-xs font-semibold text-gray-600 mb-1.5",children:"\uD83D\uDCCD Tutulan Yer *"}),(0,l.jsx)("input",{type:"text",placeholder:"Kumbağ, Şile, Boğaz...",value:b,onChange:e=>u(e.target.value),className:"w-full px-4 py-4 bg-gray-50 border-2 border-gray-200 rounded-xl focus:bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-100 focus:outline-none text-gray-800 text-lg transition-all",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-xs font-semibold text-gray-600 mb-1.5",children:"\uD83D\uDCDD Notlar"}),(0,l.jsx)("textarea",{placeholder:"Olta takımı, yem, hava durumu...",value:g,onChange:e=>p(e.target.value),className:"w-full px-4 py-4 bg-gray-50 border-2 border-gray-200 rounded-xl focus:bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-100 focus:outline-none text-gray-800 text-lg h-24 resize-none transition-all"})]}),(0,l.jsx)("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-blue-500 text-white font-bold text-lg py-5 rounded-xl hover:from-blue-700 hover:to-blue-600 active:scale-[0.98] transition-all shadow-lg shadow-blue-500/30",children:"\uD83D\uDCBE Kaydet"})]})]}),(0,l.jsxs)("div",{className:"pb-safe",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"\uD83D\uDCCB Avlarım"}),(0,l.jsxs)("span",{className:"text-sm text-gray-500 bg-white px-3 py-1 rounded-full shadow-sm",children:[i.length," av"]})]}),0===i.length?(0,l.jsxs)("div",{className:"text-center p-12 bg-white rounded-2xl shadow-lg",children:[(0,l.jsx)("div",{className:"text-6xl mb-4",children:"\uD83C\uDFA3"}),(0,l.jsx)("p",{className:"text-gray-600 text-base font-semibold",children:"Hen\xfcz av kaydı yok"}),(0,l.jsxs)("p",{className:"text-gray-400 text-sm mt-2",children:["Yukarıdaki formu kullanarak",(0,l.jsx)("br",{}),"ilk avınızı ekleyin!"]})]}):(0,l.jsx)("div",{className:"space-y-3",children:i.map(e=>(0,l.jsx)("div",{className:"bg-white border-l-4 border-blue-500 rounded-2xl shadow-md active:scale-[0.99] transition-all overflow-hidden",children:(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:e.species}),(0,l.jsx)("span",{className:"text-xs text-gray-500 mt-1 inline-block",children:new Date(e.created_at).toLocaleDateString("tr-TR",{day:"numeric",month:"short",year:"numeric"})})]}),(0,l.jsx)("div",{className:"bg-blue-50 px-3 py-1 rounded-full",children:(0,l.jsxs)("span",{className:"text-sm font-bold text-blue-600",children:["#",i.length-i.indexOf(e)]})})]}),(0,l.jsxs)("div",{className:"flex gap-3 mb-3",children:[(0,l.jsxs)("div",{className:"flex-1 bg-gradient-to-br from-blue-50 to-blue-100 p-3 rounded-xl",children:[(0,l.jsx)("div",{className:"text-xs text-gray-600 font-semibold mb-1",children:"\uD83D\uDCCF Boy"}),(0,l.jsxs)("div",{className:"text-lg font-bold text-blue-600",children:[e.length_cm," cm"]})]}),e.weight_gr&&(0,l.jsxs)("div",{className:"flex-1 bg-gradient-to-br from-green-50 to-green-100 p-3 rounded-xl",children:[(0,l.jsx)("div",{className:"text-xs text-gray-600 font-semibold mb-1",children:"⚖️ Kilo"}),(0,l.jsxs)("div",{className:"text-lg font-bold text-green-600",children:[e.weight_gr," gr"]})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 text-sm mb-2",children:[(0,l.jsx)("span",{className:"text-gray-500",children:"\uD83D\uDCCD"}),(0,l.jsx)("span",{className:"text-gray-700 font-medium",children:e.location})]}),e.notes&&(0,l.jsxs)("div",{className:"mt-3 p-3 bg-gray-50 rounded-xl border border-gray-100",children:[(0,l.jsx)("div",{className:"text-xs text-gray-500 font-semibold mb-1",children:"\uD83D\uDCDD Notlar"}),(0,l.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed",children:e.notes})]})]})},e.id))})]})]}),"stats"===s&&(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[(0,l.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"\uD83D\uDCC8 Genel İstatistikler"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-xl",children:[(0,l.jsx)("div",{className:"text-sm text-gray-600 font-semibold mb-1",children:"Toplam Av"}),(0,l.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:i.length})]}),(0,l.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-xl",children:[(0,l.jsx)("div",{className:"text-sm text-gray-600 font-semibold mb-1",children:"En B\xfcy\xfck"}),(0,l.jsxs)("div",{className:"text-3xl font-bold text-green-600",children:[i.length>0?Math.max(...i.map(e=>e.length_cm)):0," cm"]})]}),(0,l.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-xl",children:[(0,l.jsx)("div",{className:"text-sm text-gray-600 font-semibold mb-1",children:"En Ağır"}),(0,l.jsxs)("div",{className:"text-3xl font-bold text-purple-600",children:[i.length>0&&i.some(e=>e.weight_gr)?Math.max(...i.filter(e=>e.weight_gr).map(e=>e.weight_gr)):0," gr"]})]}),(0,l.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-4 rounded-xl",children:[(0,l.jsx)("div",{className:"text-sm text-gray-600 font-semibold mb-1",children:"Farklı T\xfcr"}),(0,l.jsx)("div",{className:"text-3xl font-bold text-orange-600",children:i.length>0?new Set(i.map(e=>e.species)).size:0})]})]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[(0,l.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"\uD83D\uDC1F T\xfcr Dağılımı"}),0===i.length?(0,l.jsx)("p",{className:"text-gray-500 text-center py-8",children:"Hen\xfcz veri yok"}):(0,l.jsx)("div",{className:"space-y-3",children:Object.entries(i.reduce((e,s)=>(e[s.species]=(e[s.species]||0)+1,e),{})).sort((e,s)=>s[1]-e[1]).map(([e,s])=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[(0,l.jsx)("span",{className:"font-semibold text-gray-800",children:e}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"bg-blue-500 text-white px-3 py-1 rounded-full text-sm font-bold",children:s}),(0,l.jsxs)("div",{className:"text-sm text-gray-500",children:[(s/i.length*100).toFixed(0),"%"]})]})]},e))})]}),(0,l.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[(0,l.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"\uD83D\uDCCD Pop\xfcler Lokasyonlar"}),0===i.length?(0,l.jsx)("p",{className:"text-gray-500 text-center py-8",children:"Hen\xfcz veri yok"}):(0,l.jsx)("div",{className:"space-y-3",children:Object.entries(i.reduce((e,s)=>(e[s.location]=(e[s.location]||0)+1,e),{})).sort((e,s)=>s[1]-e[1]).slice(0,5).map(([e,s])=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[(0,l.jsx)("span",{className:"font-semibold text-gray-800",children:e}),(0,l.jsxs)("div",{className:"bg-green-500 text-white px-3 py-1 rounded-full text-sm font-bold",children:[s," av"]})]},e))})]})]}),"profile"===s&&(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 text-center",children:[(0,l.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full mx-auto mb-4 flex items-center justify-center text-4xl",children:"\uD83C\uDFA3"}),(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Balık\xe7ı Profili"}),(0,l.jsx)("p",{className:"text-gray-600",children:"UZ FishLog Kullanıcısı"})]}),(0,l.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[(0,l.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"⚙️ Ayarlar"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("button",{className:"w-full flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[(0,l.jsx)("span",{className:"font-semibold text-gray-800",children:"\uD83D\uDD14 Bildirimler"}),(0,l.jsx)("span",{className:"text-gray-400",children:"›"})]}),(0,l.jsxs)("button",{className:"w-full flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[(0,l.jsx)("span",{className:"font-semibold text-gray-800",children:"\uD83C\uDF0D Konum İzinleri"}),(0,l.jsx)("span",{className:"text-gray-400",children:"›"})]}),(0,l.jsxs)("button",{className:"w-full flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[(0,l.jsx)("span",{className:"font-semibold text-gray-800",children:"\uD83D\uDCE4 Verileri Dışa Aktar"}),(0,l.jsx)("span",{className:"text-gray-400",children:"›"})]})]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[(0,l.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"ℹ️ Hakkında"}),(0,l.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Versiyon:"})," 1.1.0"]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Geliştirici:"})," UZ FishLog Team"]}),(0,l.jsx)("p",{className:"pt-3 text-xs text-gray-500",children:"T\xfcm balık avı kayıtlarınız Supabase'de g\xfcvenle saklanmaktadır."})]})]})]})]}),(0,l.jsx)("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-lg border-t border-gray-200 safe-area-inset-bottom",children:(0,l.jsx)("div",{className:"max-w-4xl mx-auto px-4",children:(0,l.jsxs)("div",{className:"flex items-center justify-around py-3",children:[(0,l.jsxs)("button",{onClick:()=>t("catches"),className:`flex flex-col items-center gap-1 py-2 px-6 rounded-xl transition-all ${"catches"===s?"text-blue-600 bg-blue-50":"text-gray-500"}`,children:[(0,l.jsx)("span",{className:"text-2xl",children:"\uD83C\uDFA3"}),(0,l.jsx)("span",{className:"text-xs font-semibold",children:"Avlarım"})]}),(0,l.jsxs)("button",{onClick:()=>t("stats"),className:`flex flex-col items-center gap-1 py-2 px-6 rounded-xl transition-all ${"stats"===s?"text-blue-600 bg-blue-50":"text-gray-500"}`,children:[(0,l.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCCA"}),(0,l.jsx)("span",{className:"text-xs font-semibold",children:"İstatistik"})]}),(0,l.jsxs)("button",{onClick:()=>t("profile"),className:`flex flex-col items-center gap-1 py-2 px-6 rounded-xl transition-all ${"profile"===s?"text-blue-600 bg-blue-50":"text-gray-500"}`,children:[(0,l.jsx)("span",{className:"text-2xl",children:"\uD83D\uDC64"}),(0,l.jsx)("span",{className:"text-xs font-semibold",children:"Profil"})]})]})})})]})}}},e=>{e.O(0,[958,441,794,358],()=>e(e.s=26)),_N_E=e.O()}]);